var IE = document.all?true:falsevar pageWidth;var pageHeight;if (!IE) {  document.captureEvents(Event.MOUSEMOVE)  pageHeight = window.innerHeight;  pageWidth = window.innerWidth;}else {  pageHeight = document.body.clientHeight;  pageWidth = document.body.clientWidth;}document.onmousemove = getmouseXY;document.onmousedown = increasedGrav;document.onmouseup = normalGrav;var t;var mouseX = 0;var mouseY = 0;var maxBalls = 50;var maxStars = 5;var numBalls;var numStars;var upGravity;  var normGravity;  var mouseGravity = normGravity;var gravity;  var starGravity;var balls;var stars;var colors = new Array("blue","red","orange","green","purple","yellow","light_blue","seafoam","gray");function ball() {  this.x = 0.0;  this.y = 0.0;  this.dx = 0.0;  this.dy = 0.0;  this.div = null;}function star() {  this.x = 0.0;  this.y = 0.0;  this.drag = false;  this.div = null;}function initStars() {  changeNumStars();  changeGravity();  changeStarGravity();  changeMouseGravity();  changeMousedownGravity();  stars = new Array(numStars);  ballContainer = document.getElementById('ballContainer');  if (ballContainer) {    for (j = 0; j < maxStars; j = j + 1) {      old = document.getElementById('star'+j);      if (old) {        ballContainer.removeChild(old);                }    }    for (j = 0; j < numStars; j = j + 1) {      rand = Math.floor((9)*Math.random());      starsImage = "<img src='images/star_" + colors[rand] + ".png' onmousedown='return false;' />"      divNewStar = document.createElement('div');      divNewStar.setAttribute('id','star'+j);      divNewStar.setAttribute('class','star');      divNewStar.setAttribute('onmousedown','setStarDraggable(this, true)');      divNewStar.setAttribute('onmouseup','setStarDraggable(this, false)');      divNewStar.innerHTML = starsImage;      ballContainer.appendChild(divNewStar);      stars[j] = new star();      stars[j].div = divNewStar;      stars[j].x = ((pageWidth - 100) * Math.random()) + 50;      stars[j].y = ((pageHeight - 100) * Math.random()) + 50;      stars[j].drag = false;    }    clearTimeout(t);    updatePos();  }}    function initBalls() {  changeNumBalls();      changeGravity();  changeStarGravity();  changeMouseGravity();  changeMousedownGravity();  balls = new Array(numBalls);  ballContainer = document.getElementById('ballContainer');  if (ballContainer) {    for (j=0; j < maxBalls; j=j+1) {      old = document.getElementById('ball'+j);      if (old) {        ballContainer.removeChild(old);                }    }    for (j = 0; j < numBalls; j = j + 1) {      rand = Math.floor((9)*Math.random());      ballsImage = "<img src='images/ball_" + colors[rand] + ".png' onmousedown='return false;' />"      divNewBall = document.createElement('div');      divNewBall.setAttribute('id','ball'+j);      divNewBall.setAttribute('class','ball');      divNewBall.innerHTML = ballsImage;      ballContainer.appendChild(divNewBall);      balls[j] = new ball();      balls[j].div = divNewBall;      balls[j].x = ((pageWidth - 10) * Math.random()) + 1;      balls[j].y = ((pageHeight - 10) * Math.random()) + 1;      balls[j].dx = (5 * Math.random()) - 2.5;      balls[j].dy = (5 * Math.random()) - 2.5;    }    clearTimeout(t);    updatePos();  }    }  function cancelEvent() {  return false;}  function setStarDraggable(starDiv, draggable) {  for (j = 0; j < numStars; j = j + 1) {    if (stars[j].div == starDiv) {      stars[j].drag = draggable;      stars[j].div.style.zIndex = draggable ? 2 : 1;    }  }}function changeNumBalls() {  selectnumBalls = document.getElementById('optNumBalls');  if (selectnumBalls) {    numBalls = parseInt(selectnumBalls.options[selectnumBalls.selectedIndex].value);  }}function changeNumStars() {  selectnumStars = document.getElementById('optNumStars');  if (selectnumStars) {    numStars = parseInt(selectnumStars.options[selectnumStars.selectedIndex].value);  }}function changeGravity() {  selectGravity = document.getElementById('optGravity');  if (selectGravity) {    gravity = parseFloat(selectGravity.options[selectGravity.selectedIndex].value);  }}function changeStarGravity() {  selectstarGravity = document.getElementById('optStarGravity');  if (selectstarGravity) {    starGravity = parseFloat(selectstarGravity.options[selectstarGravity.selectedIndex].value);  }}function changeMouseGravity() {  selectmouseGravity = document.getElementById('optMouseGravity');  if (selectmouseGravity) {    normGravity = parseFloat(selectmouseGravity.options[selectmouseGravity.selectedIndex].value);  }}function changeMousedownGravity() {  selectMousedowngravity = document.getElementById('optMousedownGravity');  if (selectMousedowngravity) {    upGravity = parseFloat(selectMousedowngravity.options[selectMousedowngravity.selectedIndex].value);  }}function increasedGrav(e) {  mouseGravity = upGravity;}function normalGrav(e) {  mouseGravity = normGravity;}function getmouseXY(e) {  if (IE) {     mouseX = event.clientX + document.body.clientLeft;    mouseY = event.clientY + document.body.clientTop;  } else {     mouseX = e.pageX;    mouseY = e.pageY;  }   if (mouseX < 0){mouseX = 0}  if (mouseY < 0){mouseY = 0}   return true}function onLoad(e) {  initBalls();  initStars();}function updateVel() {  for (j = 0; j < numBalls; j = j + 1) {        var dx = mouseX - balls[j].x;    var dy = mouseY - balls[j].y;    var force = (mouseGravity + gravity) / ((dx * dx) + (dy * dy));    balls[j].dx = balls[j].dx + (dx * force);    balls[j].dy = balls[j].dy + (dy * force);      for (k = 0; k < numStars; k = k + 1) {      dx = stars[k].x - balls[j].x;      dy = stars[k].y - balls[j].y;      force = (gravity + starGravity) / ((dx * dx) + (dy * dy));      balls[j].dx = balls[j].dx + (dx * force);      balls[j].dy = balls[j].dy + (dy * force);            }        for (k = 0; k < numBalls; k = k + 1) {      if (j!=k) {        dx = balls[k].x - balls[j].x;        dy = balls[k].x - balls[j].y;        force = (gravity + gravity) / ((dx * dx) + (dy * dy));        balls[j].dx = balls[j].dx + (dx * force);        balls[j].dy = balls[j].dy + (dy * force);              }    }  }    for (k = 0; k < numStars; k = k + 1) {    if (stars[k].drag) {      stars[k].x = mouseX;      stars[k].y = mouseY;    }  }}  function updatePos() {  updateVel();  for (j = 0; j < numBalls; j = j + 1) {    balls[j].x = balls[j].x + balls[j].dx;    balls[j].y = balls[j].y + balls[j].dy;      if (balls[j].dx > 10) {      balls[j].dx = 10.0;    }    if (balls[j].dy > 10) {      balls[j].dy = 10.0;    }    if (balls[j].dx < -10) {      balls[j].dx = -10.0;    }    if (balls[j].dy < -10) {      balls[j].dy = -10.0;    }        if (balls[j].x < document.body.scrollLeft || balls[j].x > (document.body.scrollLeft + pageWidth)) {      balls[j].dx = -balls[j].dx;    }    if (balls[j].y < document.body.scrollTop || balls[j].y > (document.body.scrollTop + pageHeight)) {      balls[j].dy = -balls[j].dy;    }  }  for (j = 0; j < numStars; j = j + 1) {    currentStar = document.getElementById('star' + j);    if (currentStar) {      stars[j].div = currentStar;      stars[j].div.style.top = (stars[j].y -12.5) + "px";      stars[j].div.style.left = (stars[j].x - 12.5) + "px";    }  }  for (j = 0; j < numBalls; j = j + 1) {    currentBall = document.getElementById('ball' + j);    if (currentBall) {      balls[j].div = currentBall;      balls[j].div.style.top = (balls[j].y - 5) + "px";      balls[j].div.style.left = (balls[j].x - 5) + "px";    }  }  t = setTimeout(updatePos,10);}